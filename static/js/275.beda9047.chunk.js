"use strict";(self.webpackChunkparaluni_poseidon=self.webpackChunkparaluni_poseidon||[]).push([[275],{3275:(n,e,o)=>{o.r(e),o.d(e,{default:()=>x});var i=o(5043);const a={"flex-center":"LongtimeBond_flex-center__esaB7",buyInfo:"LongtimeBond_buyInfo__-uLjt",blance:"LongtimeBond_blance__Q0WMP",amount_bg:"LongtimeBond_amount_bg__c1eN-",num_img:"LongtimeBond_num_img__apLoW",num_bg:"LongtimeBond_num_bg__HlPJy","flex-row":"LongtimeBond_flex-row__qW88M",page_info:"LongtimeBond_page_info__tIF98",gopage:"LongtimeBond_gopage__jsQu1",detailItem:"LongtimeBond_detailItem__xzpJU",detail:"LongtimeBond_detail__VSF5O","flex-row-between":"LongtimeBond_flex-row-between__lki5P",bondInfo:"LongtimeBond_bondInfo__E0e75",bondInfoList:"LongtimeBond_bondInfoList__HPNld",liquidationTitle:"LongtimeBond_liquidationTitle__9PswO",principalToken:"LongtimeBond_principalToken__ZX1Eu",detail_title:"LongtimeBond_detail_title__W0oAA",userBlance:"LongtimeBond_userBlance__n-ydh",buyTitle:"LongtimeBond_buyTitle__QXfgW","flex-row-around":"LongtimeBond_flex-row-around__YfY90","flex-row-reserve":"LongtimeBond_flex-row-reserve__hhSdO","flex-column":"LongtimeBond_flex-column__Z-2x6","flex-ai-center":"LongtimeBond_flex-ai-center__6sFTx","flex-jc-center":"LongtimeBond_flex-jc-center__Z3Lep","flex-ai-start":"LongtimeBond_flex-ai-start__-1Fce","flex-ai-end":"LongtimeBond_flex-ai-end__KBhfM","flex-ai-baseline":"LongtimeBond_flex-ai-baseline__bI5vf","flex-ai-stretch":"LongtimeBond_flex-ai-stretch__-6OXu","flex-jc-between":"LongtimeBond_flex-jc-between__0frwJ","overflow-hidden":"LongtimeBond_overflow-hidden__9ufeF","flex-shrink0":"LongtimeBond_flex-shrink0__422OP","flex-1":"LongtimeBond_flex-1__WvTgb","ellipse-1":"LongtimeBond_ellipse-1__lkgwF","ellipse-2":"LongtimeBond_ellipse-2__9Fvr7","mt-5":"LongtimeBond_mt-5__jg1M3","mt-10":"LongtimeBond_mt-10__+Itm7","mt-15":"LongtimeBond_mt-15__tvCCU","mt-20":"LongtimeBond_mt-20__MXo34","mb-5":"LongtimeBond_mb-5__kYkj5","mb-10":"LongtimeBond_mb-10__r8zC8","mb-15":"LongtimeBond_mb-15__WN1B6","mb-20":"LongtimeBond_mb-20__LKvhm","ml-5":"LongtimeBond_ml-5__ZoPb7","ml-10":"LongtimeBond_ml-10__ewzLF","ml-15":"LongtimeBond_ml-15__go5wo","ml-20":"LongtimeBond_ml-20__LFn2-","mr-5":"LongtimeBond_mr-5__UaPU8","mr-10":"LongtimeBond_mr-10__LrivI","mr-15":"LongtimeBond_mr-15__0zpLO","mr-20":"LongtimeBond_mr-20__dRiW1","mr-40":"LongtimeBond_mr-40__H39X4","ml-auto":"LongtimeBond_ml-auto__MBiEX","mr-auto":"LongtimeBond_mr-auto__GhlV4","font-size-10":"LongtimeBond_font-size-10__PGJRY","font-size-12":"LongtimeBond_font-size-12__In1Rt","font-size-14":"LongtimeBond_font-size-14__DOY7n","font-size-16":"LongtimeBond_font-size-16__zsKlW","font-size-20":"LongtimeBond_font-size-20__KWQJA","font-size-24":"LongtimeBond_font-size-24__xztep","font-size-32":"LongtimeBond_font-size-32__d1uf9","font-weight-600":"LongtimeBond_font-weight-600__lRzwO","font-weight-800":"LongtimeBond_font-weight-800__aR9OP","font-color-white":"LongtimeBond_font-color-white__uxxIA","font-color-title":"LongtimeBond_font-color-title__HJK3F","font-color-describe":"LongtimeBond_font-color-describe__PQ2Ti","font-color-success":"LongtimeBond_font-color-success__Rxhom","font-color-error":"LongtimeBond_font-color-error__7u9Sa","font-color-button":"LongtimeBond_font-color-button__S+qNO","font-color-click":"LongtimeBond_font-color-click__ovZDq","font-color-tip":"LongtimeBond_font-color-tip__Du4gb","font-color-warn":"LongtimeBond_font-color-warn__Bhs8B","bg-color-success":"LongtimeBond_bg-color-success__GBRbm","bg-color-error":"LongtimeBond_bg-color-error__kdX03","font-weight-500":"LongtimeBond_font-weight-500__m1IBC","font-weight-400":"LongtimeBond_font-weight-400__Qod5x","font-weight-bold":"LongtimeBond_font-weight-bold__KFN-I","divide-line":"LongtimeBond_divide-line__Q1phI","text-wrap":"LongtimeBond_text-wrap__pUVIF","inputRef-inputClass":"LongtimeBond_inputRef-inputClass__NXj-q","height-56":"LongtimeBond_height-56__iIOSM","button-type":"LongtimeBond_button-type__CN6rv","button-common":"LongtimeBond_button-common__TXKIz","button-common-dark":"LongtimeBond_button-common-dark__TG14N","button-click":"LongtimeBond_button-click__s+AuX","button-scale":"LongtimeBond_button-scale__LwBco","common-loading":"LongtimeBond_common-loading__xJGys","common-tip":"LongtimeBond_common-tip__lc68R","disable-button":"LongtimeBond_disable-button__XCaSl","pb-10":"LongtimeBond_pb-10__3Lh1U",position5:"LongtimeBond_position5__wUvxJ",position:"LongtimeBond_position__w5pvu","border-bottom-dashed":"LongtimeBond_border-bottom-dashed__SBeCX","font-color-green":"LongtimeBond_font-color-green__6MYRa","common-tag":"LongtimeBond_common-tag__nNMt8",taC:"LongtimeBond_taC__cXOWK",pages:"LongtimeBond_pages__6E-j4",top_bg:"LongtimeBond_top_bg__d5t-T",main_bg:"LongtimeBond_main_bg__k-5TD",amount_bg_title:"LongtimeBond_amount_bg_title__-tnKj",amount_bg_dec:"LongtimeBond_amount_bg_dec__hAFe3",allInfo:"LongtimeBond_allInfo__nlK9u",allInfo_title:"LongtimeBond_allInfo_title__2aD1y",allInfo_asset:"LongtimeBond_allInfo_asset__LqLbp",bugNum:"LongtimeBond_bugNum__YcEJe",bold14:"LongtimeBond_bold14__ycUh-",principalToken_name:"LongtimeBond_principalToken_name__xJ0dw",principalToken_num:"LongtimeBond_principalToken_num__aEMJ0",claim_principalToken:"LongtimeBond_claim_principalToken__VwTaE",liquidationDec:"LongtimeBond_liquidationDec__EDFux",pusd_dec:"LongtimeBond_pusd_dec__XROvA",pusd_num:"LongtimeBond_pusd_num__YYhOz",claim_pusd:"LongtimeBond_claim_pusd__Oiabn",left:"LongtimeBond_left__I4NKT",main_1:"LongtimeBond_main_1__gMaVS",main_2:"LongtimeBond_main_2__Vlikh",main_title:"LongtimeBond_main_title__IHy3G",main_dec:"LongtimeBond_main_dec__8NGPI",page_info_title:"LongtimeBond_page_info_title__14CEc",page_info_dec:"LongtimeBond_page_info_dec__i0-Ph",bondInfoTotle:"LongtimeBond_bondInfoTotle__Kiqiu",bondInfoItem:"LongtimeBond_bondInfoItem__mNrAf"};var t=o(1791),s=o(3216);const d={suc_img:"buysuccess_suc_img__L2m5S",suc_lot:"buysuccess_suc_lot__f3MIG",suc_dec:"buysuccess_suc_dec__iyvfW",suc_decinfo:"buysuccess_suc_decinfo__RWCLB",suc_btn:"buysuccess_suc_btn__uWFxr"};var _=o(4385),l=o(1302),m=o.n(l),c=o(579);function r(n){const{show:e,onClose:o,showId:a}=n,s=(0,i.useRef)();return(0,i.useEffect)((()=>{if(e){var n,o;if((null===(n=s.current)||void 0===n||null===(o=n.children)||void 0===o?void 0:o.length)>0)return;m().loadAnimation({container:s.current,renderer:"svg",loop:!0,autoplay:!0,path:"".concat(t.nG,"/Bond/lottery_pop.json")}).play()}}),[e,s.current]),(0,c.jsx)(_.zD,{visible:e,style:{width:"100%",borderRadius:"8px",background:"transparent"},children:(0,c.jsxs)("div",{children:[e&&(0,c.jsxs)("div",{className:d.suc_img,children:[(0,c.jsx)("div",{className:d.suc_lot,ref:s}),(0,c.jsx)("img",{src:a>=500?"https://ipfs.io/ipfs/QmVMXjQBudr7BBHsJa6eWTE4qzrQt5sqYnCz4BLEXB7KGz/".concat(a,".png"):"https://ipfs.io/ipfs/QmdFBTS1XinrhTnq683fqFoSg6rfR9bTKzB5fBSXspEj2U/".concat(a,".png"),width:"100%"})]}),(0,c.jsx)("div",{className:d.suc_dec,children:"购买成功"}),(0,c.jsx)("div",{className:d.suc_decinfo,children:"您获得了 1 张了不起的纪念NFT，可前往「我的纪念NFT」中查看"}),(0,c.jsx)("div",{className:d.suc_btn,onClick:o,children:"I Got"})]})})}var g=o(1473),B=o(7356),u=o(1977),f=o(775),p=o(1045),b=o(8762),h=o(9951),L=o(9338);function x(){const{user:n}=(0,g.A)(),[e,o]=(0,i.useState)(1e3),[d,l]=(0,i.useState)(!1),[m,x]=(0,i.useState)(0),[j,v]=(0,i.useState)(!1),[y,N]=(0,i.useState)("0"),[T,w]=(0,i.useState)("0"),[I,A]=(0,i.useState)([]),[k,M]=(0,i.useState)(!1),[S,G]=(0,i.useState)(0),[z,C]=(0,i.useState)("0"),[O,P]=(0,i.useState)("0"),[q,D]=(0,i.useState)(!1),F=(0,s.Zp)(),U=async()=>{const e=(0,L.It)();let i=await(0,f.A)([{abi:"erc20",address:u.A.USDT,method:"balanceOf",params:[n.address]},{abi:"erc20",address:u.A.USDT,method:"allowance",params:[n.address,u.A.BondBuyManager]},{abi:"BondBuyManager",address:u.A.BondBuyManager,method:"blockLiquidate",params:[]},{abi:"erc20",address:u.A.LongTermBondBuy,method:"totalSupply",params:[]},{abi:"Median",address:u.A.PIPV42,params:[],method:"getLatestPrice"},{abi:"Median",address:u.A.PIPBTB,params:[],method:"getLatestPrice"},{abi:"BondBuyManager",address:u.A.BondBuyManager,method:"addTokenAmount",params:[e.utils.stringToHex("V42")]},{abi:"BondBuyManager",address:u.A.BondBuyManager,method:"addTokenAmount",params:[e.utils.stringToHex("BTB")]},{abi:"erc20",address:u.A.V42,method:"balanceOf",params:[u.A.BondBuyManager]},{abi:"erc20",address:u.A.BTB,method:"balanceOf",params:[u.A.BondBuyManager]}]);N((0,b.fn)((0,b.fm)(i[0]))),v((0,p.A)((0,b.fm)(i[1])).isGreaterThanOrEqualTo(1e8)),M((0,p.A)(i[2]).isGreaterThan(0)),o(i[3]);const a=(0,b.fm)(i[4]),t=(0,b.fm)(i[5]),s=p.A.min((0,b.fm)(i[6]),(0,b.fm)(i[8])),d=p.A.min((0,b.fm)(i[7]),(0,b.fm)(i[9])),_=a.multipliedBy(s),l=t.multipliedBy(d);if(w((0,b.fn)(_.plus(l),0)),(0,p.A)(i[2]).isGreaterThan(0)){let e=await(0,f.A)([{abi:"BondBuyManager",address:u.A.BondBuyManager,method:"collaterals",params:[1]},{abi:"BondBuyManager",address:u.A.BondBuyManager,method:"collaterals",params:[2]},{abi:"BondBuyManager",address:u.A.BondBuyManager,params:[n.address],method:"allTokenIdsByOwner"}]);const o=e[2].length,i=(0,b.fm)(e[0].amountOnLiquidatePerBond),a=(0,b.fm)(e[1].amountOnLiquidatePerBond);C((0,b.fn)(i.multipliedBy(o))),P((0,b.fn)(a.multipliedBy(o)))}V()},V=async()=>{let e=await(0,h.A)({abi:"BondBuyManager",address:u.A.BondBuyManager,params:[n.address],method:"allTokenIdsByOwner",type:"call"});G(e.length);let o=await(0,f.A)(e.map((n=>({abi:"BondBuyManager",address:u.A.BondBuyManager,method:"getInterest",params:[n]})))),i=(0,p.A)(0),a=[];e.map(((n,e)=>{a.push({id:n,interest:(0,b.fn)((0,b.fm)(o[e]))}),i=i.plus((0,b.fm)(o[e]))})),A(a),D(i.isLessThanOrEqualTo(0))};return(0,i.useEffect)((()=>(n.address&&U(),()=>{})),[n.address]),(0,c.jsxs)("div",{className:a.pages,style:{backgroundColor:"#0051fe",minHeight:"100vh"},children:[(0,c.jsx)("div",{className:a.top_bg}),(0,c.jsx)("div",{className:a.main_bg,children:(0,c.jsxs)("div",{className:a.amount_bg,children:[(0,c.jsx)("div",{className:a.amount_bg_title,children:"剩余债券数量"}),(0,c.jsxs)("div",{className:a.num_img,children:[(0,c.jsx)("div",{className:a.num_bg,children:(0,c.jsx)("img",{alt:"",src:"".concat(t.nG,"/Bond/num").concat(parseInt((1e3-e)/1e3)%10,".svg")})}),(0,c.jsx)("div",{className:a.num_bg,children:(0,c.jsx)("img",{alt:"",src:"".concat(t.nG,"/Bond/num").concat(parseInt((1e3-e)/100)%10,".svg")})}),(0,c.jsx)("div",{className:a.num_bg,children:(0,c.jsx)("img",{alt:"",src:"".concat(t.nG,"/Bond/num").concat(parseInt((1e3-e)/10)%10,".svg")})}),(0,c.jsx)("div",{className:a.num_bg,children:(0,c.jsx)("img",{alt:"",src:"".concat(t.nG,"/Bond/num").concat(parseInt((1e3-e)/1)%10,".svg")})})]}),(0,c.jsx)("div",{className:a.amount_bg_dec,children:"🎉限量1000份，先到先得🎉"})]})}),(0,c.jsxs)("div",{className:a.allInfo,children:[(0,c.jsx)("div",{className:a.allInfo_title,children:"当前抵押物总价值（V42+BTB）"}),(0,c.jsxs)("div",{className:a.allInfo_asset,children:["$ ",T]})]}),!k&&(0,c.jsxs)("div",{className:a.buyInfo,children:[(0,c.jsxs)("div",{className:a.buyTitle,children:[(0,c.jsx)("div",{children:"需花费(USDT)"}),(0,c.jsx)("div",{className:a.bugNum,children:"100"})]}),j?(0,c.jsxs)("div",{className:a.blance,onClick:async()=>{var o;if(e>=1e3)return(0,_.y8)("可发行数量不足");if(y<100)return(0,_.y8)("USDT 额度不足");(0,b.Cs)();let i=await(0,f.A)([{abi:"BondBuyManager",address:u.A.BondBuyManager,method:"getLTV",params:[!1]},{abi:"BondBuyManager",address:u.A.BondBuyManager,method:"liquidateLine",params:[]}]);if(Number(i[0])<Number(i[1]))return(0,b.bD)(),(0,_.y8)("质押率不足");const a=await(0,h.A)({abi:"BondBuyManager",address:u.A.BondBuyManager,params:[],method:"issue",type:"send"});if(null!=a&&null!==(o=a.events)&&void 0!==o&&o.BondPurchased){const e=await(0,h.A)({abi:"BondBuyManager",address:u.A.BondBuyManager,params:[n.address],method:"allTokenIdsByOwner",type:"call"});(0,b.bD)(),l(!0),x(e[e.length-1])}else(0,_.y8)("发行失败")},children:[(0,c.jsx)("img",{alt:"",src:"".concat(t.nG,"/Bond/usdt_w.png")}),"购买 1 份"]}):(0,c.jsx)("div",{className:a.blance,onClick:async()=>{await(0,B.Wi)(u.A.USDT,u.A.BondBuyManager)&&v(!0)},children:"授权USDT"}),(0,c.jsxs)("div",{className:a.userBlance,children:[(0,c.jsx)("div",{children:"可用USDT"}),(0,c.jsxs)("div",{className:"flex-center",onClick:()=>F("/trade"),children:[y," ",(0,c.jsx)("img",{alt:"",src:"".concat(t.nG,"/Bond/addico.png")})]})]})]}),k?(0,c.jsxs)("div",{className:a.detailItem,children:[(0,c.jsxs)("div",{className:a.detail_title,children:[(0,c.jsx)("div",{children:"投入本金(USDT)"}),(0,c.jsx)("div",{className:a.bold14,children:100*S})]}),(0,c.jsxs)("div",{className:a.liquidationTitle,children:[(0,c.jsxs)("div",{className:a.principalToken,children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("div",{className:a.principalToken_name,children:"可获得V42"}),(0,c.jsx)("div",{className:a.principalToken_num,children:z})]}),(0,c.jsxs)("div",{children:[(0,c.jsx)("div",{className:a.principalToken_name,children:"可获得BTB"}),(0,c.jsx)("div",{className:a.principalToken_num,children:O})]})]}),(0,c.jsx)("div",{className:"flex-row-between",children:(0,c.jsx)("div",{className:"".concat(a.claim_principalToken),onClick:()=>(async()=>{if(q){if(!k)return(0,_.y8)("未清算");await(0,h.A)({abi:"BondBuyManager",address:u.A.BondBuyManager,params:[],method:"redeemLiquidated",type:"send"})&&((0,_.y8)("领取成功"),U())}else(0,_.y8)("请提取完所有收益再取回")})(),children:"提取本金(V42+BTB)"})}),(0,c.jsx)("div",{className:a.liquidationDec,children:"😭Sorry！该债券已被清算，我们将退给您一些和您当时投入本金价值同等的V42或BTB，祝您生活愉快。"})]})]}):null,I.map((n=>(0,c.jsxs)("div",{className:a.detailItem,children:[(0,c.jsxs)("div",{className:a.detail_title,children:[(0,c.jsx)("div",{children:"投入本金(USDT)"}),(0,c.jsx)("div",{className:a.bold14,children:"100"})]}),(0,c.jsxs)("div",{className:a.detail,children:[(0,c.jsx)("img",{alt:"",src:"".concat(t.nG,"/pusd/pusd.png")}),(0,c.jsxs)("div",{children:[(0,c.jsx)("div",{className:a.pusd_dec,children:"可提取债券收益（PUSD）"}),(0,c.jsx)("div",{className:a.pusd_num,children:n.interest})]}),(0,c.jsx)("div",{className:a.claim_pusd,onClick:()=>(async n=>{await(0,h.A)({abi:"BondBuyManager",address:u.A.BondBuyManager,params:[n.id],method:"claim",type:"send"})&&((0,_.y8)("领取成功"),V())})(n),children:"提取收益"})]})]},n.id))),(0,c.jsxs)("div",{className:a.gopage,onClick:()=>{S>0?F("/bonddetail"):(0,_.y8)("暂无纪念NFT")},children:[(0,c.jsx)("img",{alt:"",src:"".concat(t.nG,"/Bond/gopage.png")}),"我的纪念NFT",(0,c.jsx)("img",{alt:"",className:a.left,src:"".concat(t.nG,"/Bond/left.png")})]}),(0,c.jsxs)("div",{className:a.main_1,children:[(0,c.jsx)("div",{className:a.main_title,children:"你听说了吗？"}),(0,c.jsxs)("div",{className:a.main_dec,children:["50年债券啊！ 哈哈哈哈哈哈，现在它就呈现在你面前！",(0,c.jsx)("br",{}),"你能想象2074年的世界吗？是飞车在天空中穿梭，亦或是机器人在街头漫步.......",(0,c.jsx)("br",{}),"只需100U，您就能拥有一份限量发行的50年长期债券，这是一份对时间和未来笃定，是一份可继承、可传承的债券。它不仅是财富的象征，更是对未来家族繁荣的承诺。它见证着科技的进步、社会的发展和个人的成长，让每一年都充满了意义和价值。",(0,c.jsx)("br",{}),"它让您能享受每一年带来的成长与收获，历经一段绵延子孙、造福后代的非凡岁月，书写家族财富的传奇！"]})]}),(0,c.jsxs)("div",{className:a.page_info,children:[(0,c.jsx)("img",{alt:"",src:"".concat(t.nG,"/Bond/people.png")}),(0,c.jsxs)("div",{children:[(0,c.jsxs)("div",{className:a.page_info_title,children:["该债券由Paraluni ",(0,c.jsx)("br",{}),"官方发行"]}),(0,c.jsxs)("div",{className:a.page_info_dec,children:["超额质押V42/BTB发行合约内的债券。",(0,c.jsx)("br",{})," 债券总量：限量1000份，先到先得。",(0,c.jsx)("br",{}),"单个地址可购买份数：1-1000份，最少1份，最多1000份"]})]})]}),(0,c.jsxs)("div",{className:a.bondInfo,children:[(0,c.jsx)("div",{className:a.bondInfoTotle,children:"每认购一份债券的您将获得"}),(0,c.jsxs)("div",{className:a.bondInfoList,children:[(0,c.jsxs)("div",{className:a.bondInfoItem,children:[(0,c.jsx)("img",{alt:"",src:"".concat(t.nG,"/Bond/icon_1.png")}),"债券收益"]}),(0,c.jsxs)("div",{className:a.bondInfoItem,children:[(0,c.jsx)("img",{alt:"",src:"".concat(t.nG,"/Bond/icon_2.png")}),"一枚独一无二的纪念版NFT（不可交易、转账）"]}),(0,c.jsxs)("div",{className:a.bondInfoItem,children:[(0,c.jsx)("img",{alt:"",src:"".concat(t.nG,"/Bond/icon_3.png")}),"加入 [50年CLUB]"]})]})]}),(0,c.jsxs)("div",{className:a.main_2,children:[(0,c.jsx)("div",{className:a.main_title,children:"50年总收益率：1000%"}),(0,c.jsxs)("div",{className:a.main_dec,children:["债券收益：以PUSD形式发放，线性释放，收益提取0手续费。",(0,c.jsx)("br",{}),"赎回规则：到期后即可赎回本金",(0,c.jsx)("br",{}),"债券清算：当债券未到期，质押物（V42/BTB）价格下跌达到清算线，将触发债券清算。清算后不再产生收益，超额的质押物（V42/BTB）按照每个用户认购的份额价值进行补偿分配。",(0,c.jsx)("br",{}),"债券暂不支持转让。"]})]}),(0,c.jsx)("img",{alt:"",style:{width:"100%"},src:"".concat(t.nG,"/Bond/tronp.png")}),(0,c.jsx)("img",{alt:"",style:{width:"100%"},src:"".concat(t.nG,"/Bond/footer.png")}),(0,c.jsx)(r,{show:d,onClose:()=>{l(!d),U()},showId:m})]})}}}]);